<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Index</title>
    <link rel="stylesheet" href="lib/element/index.css"/>
    <script src="lib/vue/vue.js"></script>
    <script src="lib/element/index.js"></script>
    <script src="lib/jquery/jquery_3.3.1.js"></script>
    <style>
        html, body {
            font-family: sans-serif;
            font-size: 14px;
            line-height: 1.5;
            background: #f0f2f5 !important;
            color: rgba(0, 0, 0, .65);
        }
    </style>
</head>

<style>
    .avatar-uploader .el-upload {
        border: 1px dashed #d9d9d9;
        border-radius: 600px;
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }

    .avatar-uploader .el-upload:hover {
        border-color: #409EFF;
    }

    .avatar-uploader-icon {
        font-size: 28px;
        color: #8c939d;
        width: 28px;
        height: 28px;
        line-height: 28px;
        text-align: center;
    }

    .avatar {
        width: 28px;
        height: 28px;
        display: block;
    }

    .font {
        font-size: 14px;
        line-height: 4;
        color: #409EFF;
    }
</style>

<body>
<el-container id="app">

    <el-aside>
        <el-radio-group v-model="isCollapse" style="margin-bottom: 20px;">
            <el-radio-button :label="false">展开</el-radio-button>
            <el-radio-button :label="true">收起</el-radio-button>
        </el-radio-group>
        <el-menu default-active="1"
                 :collapse="isCollapse"
                 @select="selectPage"
                 @open="handleOpen"
                 @close="handleClose"
                 class="el-menu-vertical-demo">
            <el-menu-item index="1">
                <i class="el-icon-edit"></i>
                <span slot="title">页面1</span>
            </el-menu-item>
            <el-menu-item index="2">
                <i class="el-icon-menu"></i>
                <span slot="title">页面2</span>
            </el-menu-item>
        </el-menu>
    </el-aside>
    <el-container>
        <el-header>
            <el-col :span="6" align="center">
                <el-dropdown>
      <span class="font">
        团队<i class="el-icon-arrow-down el-icon--right"></i>
      </span>
                    <el-dropdown-menu slot="dropdown">
                        <el-dropdown-item class="font" v-for="team in teamArr">{{team}}</el-dropdown-item>
                        <el-dropdown-item class="font"><i class="el-icon-plus"></i>添加团队</el-dropdown-item>
                    </el-dropdown-menu>
                </el-dropdown>
            </el-col>
            <el-col :span="6">
                <el-dropdown>
      <span class="font">
        数据中心<i class="el-icon-arrow-down el-icon--right"></i>
      </span>
                    <el-dropdown-menu slot="dropdown">
                        <el-dropdown-item class="font" v-for="data in dataArr">{{data}}</el-dropdown-item>
                        <el-dropdown-item><i class="el-icon-plus"></i>选择数据中心</el-dropdown-item>
                    </el-dropdown-menu>
                </el-dropdown>
            </el-col>
            <el-col :span="8" align="right" style="font-size: 20px; color: #409EFF; margin-top: 10px">
                <el-badge :value="messagenum" :max="99">
                    <i class="el-icon-bell"></i>
                </el-badge>
            </el-col>
            <el-col :span="2" align="right" style="margin-top: 10px">
                <el-upload
                        class="avatar-uploader"
                        action="https://jsonplaceholder.typicode.com/posts/"
                        :show-file-list="false"
                        :on-success="handleAvatarSuccess"
                        :before-upload="beforeAvatarUpload">
                    <img v-if="imageUrl" :src="imageUrl" class="avatar">
                    <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                </el-upload>
            </el-col>
            <el-col :span="2" align="left">
                <el-dropdown>
                    <span style="font-size: 16px; color: #409EFF ;line-height: 3;">{{username}}</span>
                    <el-dropdown-menu slot="dropdown">
                        <el-dropdown-item>退出登录</el-dropdown-item>
                    </el-dropdown-menu>
                </el-dropdown>
            </el-col>
        </el-header>
        <el-main id="content">

        </el-main>
    </el-container>
</el-container>
<script>
    var vm = new Vue({
        el: '#app',
        data: {
            imageUrl: 'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1530095202459&di=d5628439c3c75918ea048a835a92ec34&imgtype=0&src=http%3A%2F%2Fimages.missyuan.com%2Fattachments%2Fday_140910%2F20140910_ddc05dd96d2ed9238ab2v4i79I985zi4.jpg',
            username: 'zwp',
            isCollapse: false,
            pageArr: ['test1.html', 'test2.html'],
            messagenum: 199,
            teamArr: ['团队一', '团队二'],
            dataArr: ['假数据中心', '真数据中心']
        },
        methods: {
            // 选择页面
            selectPage(index, indexPath) {
                console.log(this.pageArr[index - 1]);
                // 主要就是通过jquery的load方法，加内容加载到元素上
                $('#content').load(this.pageArr[index - 1], function (response, status, xhr) {
                });
            },
            logout() {

            },
            handleOpen(key, keyPath) {
                console.log(key, keyPath);
            },
            handleClose(key, keyPath) {
                console.log(key, keyPath);
            }
        },
        mounted() {
            this.selectPage(1, '');
        }
    });
</script>
</body>
</html>