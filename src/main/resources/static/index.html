<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Index</title>
    <link rel="stylesheet" href="lib/element/index.css"/>
    <script src="lib/vue/vue.js"></script>
    <script src="lib/element/index.js"></script>
    <script src="lib/jquery/jquery_3.3.1.js"></script>
</head>

<body>
<el-container id="app">

    <el-aside>
        <el-radio-group v-model="isCollapse" style="margin-bottom: 20px;">
            <el-radio-button :label="false">展开</el-radio-button>
            <el-radio-button :label="true">收起</el-radio-button>
        </el-radio-group>
        <el-menu default-active="1"
                 :collapse="isCollapse"
                 @select="selectPage"
                 @open="handleOpen"
                 @close="handleClose"
                 class="el-menu-vertical-demo">
            <el-menu-item index="1">
                <i class="el-icon-edit"></i>
                <span slot="title">页面1</span>
            </el-menu-item>
            <el-menu-item index="2">
                <i class="el-icon-menu"></i>
                <span slot="title">页面2</span>
            </el-menu-item>
        </el-menu>
    </el-aside>
    <el-container>
        <el-header>
            <el-col :span="6" align="center">
                <el-dropdown>
      <span class="el-dropdown-link">
        团队<i class="el-icon-arrow-down el-icon--right"></i>
      </span>
                    <el-dropdown-menu slot="dropdown">
                        <el-dropdown-item v-for="team in teamArr">{{team}}</el-dropdown-item>
                        <el-dropdown-item><i class="el-icon-plus"></i>添加团队</el-dropdown-item>
                    </el-dropdown-menu>
                </el-dropdown>
            </el-col>
            <el-col :span="6">
                <el-dropdown>
      <span class="el-dropdown-link">
        数据中心<i class="el-icon-arrow-down el-icon--right"></i>
      </span>
                    <el-dropdown-menu slot="dropdown">
                        <el-dropdown-item v-for="data in dataArr">{{data}}</el-dropdown-item>
                        <el-dropdown-item><i class="el-icon-plus"></i>选择数据中心</el-dropdown-item>
                    </el-dropdown-menu>
                </el-dropdown>
            </el-col>
            <el-col :span="8" align="right">
                <el-badge :value="messagenum" :max="99" class="item">
                    <i class="el-icon-bell"></i>
                </el-badge>
            </el-col>
            <el-col :span="4" align="right">
                <el-dropdown>
                    <span class="el-dropdown">{{username}}</span>
                    <el-dropdown-menu slot="dropdown">
                        <el-dropdown-item>退出登录</el-dropdown-item>
                    </el-dropdown-menu>
                </el-dropdown>
            </el-col>
        </el-header>
        <el-main id="content">

        </el-main>
    </el-container>
</el-container>
<script>
    var vm = new Vue({
        el: '#app',
        data: {
            username: '11',
            isCollapse: false,
            pageArr: ['test1.html', 'test2.html'],
            messagenum: 199,
            teamArr: ['团队一', '团队二'],
            dataArr: ['假数据中心', '真数据中心']
        },
        methods: {
            // 选择页面
            selectPage(index, indexPath) {
                console.log(this.pageArr[index - 1]);
                // 主要就是通过jquery的load方法，加内容加载到元素上
                $('#content').load(this.pageArr[index - 1], function (response, status, xhr) {
                });
            },
            logout() {

            },
            handleOpen(key, keyPath) {
                console.log(key, keyPath);
            },
            handleClose(key, keyPath) {
                console.log(key, keyPath);
            }
        },
        mounted() {
            this.selectPage(1, '');
        }
    });
</script>
</body>
</html>